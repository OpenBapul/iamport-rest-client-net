(function(){document.frm_payment.merchant_uid.value="merchant_"+(new Date).getTime();document.frm_payment.vbank_due.value=moment().add(2,"day").format("YYYYMMDD");$("#requester").click(function(){var n=document.frm_payment,t=window.IMP,r=$(n.use_escrow).is(":checked"),u=$(n.in_app).is(":checked"),i;switch(n.pg_provider.value){case"uplus":t.init("imp46648599");break;case"nice":t.init("imp84043725");break;case"html5_inicis":t.init("imp68124833");break;case"inicis":t.init("imp20685811");break;case"jtnet":t.init("imp57843720");break;case"kakao":t.init("imp10391932");break;case"danal":t.init("imp00357859");break;case"paypal":t.init("imp09350031");break;default:t.init("iamport")}return i={pay_method:n.pay_method.value,escrow:r,merchant_uid:n.merchant_uid.value,name:n.name.value,amount:n.amount.value,buyer_email:n.buyer_email.value,buyer_name:n.buyer_name.value,buyer_tel:n.buyer_tel.value,buyer_addr:n.buyer_addr.value,buyer_postcode:n.buyer_postcode.value,vbank_due:n.vbank_due.value},u&&(i.app_scheme="iamporttest"),t.request_pay(i,function(n){var t;n.success?(t="결제가 완료되었습니다.<br>",t+="고유ID : "+n.imp_uid+"<br>",t+="상점 거래ID : "+n.merchant_uid+"<br>",t+="결제 금액 : "+n.paid_amount+"<br>",n.pay_method==="card"?t+="카드 승인번호 : "+n.apply_num+"<br>":n.pay_method==="vbank"&&(t+="가상계좌 번호 : "+n.vbank_num+"<br>",t+="가상계좌 은행 : "+n.vbank_name+"<br>",t+="가상계좌 예금주 : "+n.vbank_holder+"<br>",t+="가상계좌 입금기한 : "+n.vbank_date+"<br>"),$("#responser").addClass("alert-success")):(t="결제에 실패하였습니다.<br>",t+="에러내용 : "+n.error_msg+"<br>",$("#responser").addClass("alert-danger"));$("#responser").html(t).show();setTimeout(function(){$("#responser").hide();location.reload()},1e5)}),!1});$("#pg_provider").change(function(){var i=$(this).val(),t="";switch(i){case"inicis":case"html5_inicis":t="실제 승인이 이루어진 테스트 결제건은 자정에 이니시스에서 자동 취소처리합니다.";break;case"uplus":t="실제 승인이 이루어지지 않기 때문에 청구되지 않습니다.";break;case"nice":t="실제 승인이 이루어진 테스트 결제건은 자정에 나이스정보통신에서 자동 취소처리합니다.";break;case"jtnet":t="실제 승인이 이루어진 테스트 결제건은 자정에 JTNet에서 자동 취소처리합니다.";break;case"danal":t="실제 승인이 이루어진 테스트 결제건은 약 30분 후 자동 취소처리됩니다.";break;case"kakao":t="실제 승인이 이루어진 테스트 결제건은 30분이내로 카카오페이에서 자동 취소처리 합니다."}n();$("#pay_method_help").text(t)});var n=function(){var n=$("option:selected").data("option").split(","),t;$("#pay_method").empty();for(t in n)switch(n[t]){case"card":$("#pay_method").append('<option value="card">신용카드<\/option>');break;case"trans":$("#pay_method").append('<option value="trans">실시간계좌이체<\/option>');break;case"vbank":$("#pay_method").append('<option value="vbank">가상계좌<\/option>');break;case"phone":$("#pay_method").append('<option value="phone">휴대폰소액결제<\/option>');break;case"cultureland":$("#pay_method").append('<option value="cultureland">문화상품권<\/option>');break;case"smartculture":$("#pay_method").append('<option value="smartculture">스마트문상<\/option>');break;case"happymoney":$("#pay_method").append('<option value="happymoney">해피머니<\/option>')}}}).call(this);